<!DOCType html>
<html>
	<head>
		<title>Exporter | Organic Rate Observation</title>
		<style type="text/css">
			body {
							background-color: #000000;
							color: #e66c02;
							width: auto;
							margin: auto;
							padding-bottom: 73px;
						}
						.organic_performance_observation-exporter {
							margin: auto;
						}
						.assessment-title {
							text-align: center;
						}
						table {
							border-collapse: separate;
							border-spacing: 0px;
							table-layout: auto;
							border-radius: 5px;
						}
						.data-pebble {
							width: 373px;
							margin: auto;
							border: 1px solid #e66c02;
							padding: 11px;
							border-radius: 5px;
							margin-top: 11px;
							margin-bottom: 11px;
						}
						.data-pebble-title {
							text-align: center;
						}
						.observation-header {
										text-align: left;
										border-bottom: 1px solid #e66c02;
									}
									.observation-collection {
										border-right: 1px solid #e66c02;
										padding: 11px;
										padding-right: 21px;
									}
									.observation-state {
										padding: 11px;
										accent-color: #e66c02;
									}
						p {
							font-size: 17px;
						}
						.data-pebble-export-title {
							border-top: 2px solid #e66c02;
							border-bottom: 2px solid #e66c02;
							padding-top: 30px;
						}
						.equilibrium {
							border-top: 1px solid #e66c02;
						}
						footer {
							position: fixed;
							bottom: 11px;
							right: 31px;
						}
						a {
							text-decoration: none;
						}
						.page-turn {
							font-weight: bold;
							font-size: 27px;
							color: #e66c02;
						}
		</style>
	</head>
	<body>
		<h1 class="assessment-title">Organic Performance Observation</h1>
		<table class="organic_performance_observation-exporter">
					<tr>
						<td colspan="1">
							<h1 class="assessment-title"><span id="observation_date-export">Working</span>,&nbsp;</h1>
						</td>
						<td colspan="1">
							<h1 class="assessment-title" id="collection_name-export">Working</h1>
						</td>
					</tr>
					<tr>
						<td colspan="2">
							<h1 class="assessment-title">Collection <span id="collection_count-export">Working</span></h1>
						</td>
					</tr>
				</table>
			<table class="data-pebble">
				<tr>
									<th colspan="2"><h2 class="data-pebble-title">Observation 4</h2></th>
								</tr>
				<tr>
					<th colspan="2"><h2 class="data-pebble-title">Collection 4: Organic Rate</h2></th>
				</tr>
				<tr>
					<td colspan="1" class="observation-header"><h3>Pebble</h3></td>
					<td colspan="1" class="observation-header"><h3>State</h3></td>
				</tr>
				<tr>
					<td colspan="1"class="observation-collection">
						<h4>Expansion</h4>
					</td>
					<td colspan="1" class="observation-state">
							<p id="expansion-state-export">Working</p>
					</td>
				</tr>
				<tr>
									<td colspan="1"class="observation-collection">
										<h4>Maturity</h4>
									</td>
									<td colspan="1" class="observation-state">
											<p id="maturity-state-export">Working</p>
									</td>
								</tr>
								<tr>
													<td colspan="1"class="observation-collection">
														<h4>Evolution</h4>
													</td>
													<td colspan="1" class="observation-state">
															<p id="evolution-state-export">Working</p>
													</td>
												</tr>
																																
			<tr>
				<td colspan="1" class="equilibrium">
					<h4>Equilibrium</h4>
				</td>
				<td colspan="1" class="equilibrium">
					<h4 id="organic-rate-equilibrium">Working</h4>
				</td>
			</tr>
		</table>
		<footer>
			<a href="../5-organic_growth-observation.html"><p class="page-turn">Page Turn &#8594;</p></a>
		</footer>
		<script>
			const locally_saved_data = JSON.parse(localStorage.getItem("organic_performance_observation")) || {};

						const observation_categorisation_data_pebble = locally_saved_data["observation_categorisation-data"];
						const observation_categorisation_data = observation_categorisation_data_pebble["observation_categorisation-data"];
						document.getElementById("observation_date-export").textContent = observation_categorisation_data.observation_date;
						document.getElementById("collection_name-export").textContent = observation_categorisation_data.collection_name;
						document.getElementById("collection_count-export").textContent = observation_categorisation_data.collection_count;
							
			const organic_rate_observation_data_pebble = locally_saved_data["organic-rate-observation-data"];
			const organic_rate_observation_data = organic_rate_observation_data_pebble["organic-rate-observation-data"];
			let equilibrium_count = 0;	

						if (organic_rate_observation_data["expansion-state"] == "organic") {
							document.getElementById("expansion-state-export").textContent = "Organic";
								equilibrium_count = equilibrium_count + 1;
						} else {
							document.getElementById("expansion-state-export").textContent = "Inorganic";
						}
						
						
						if (organic_rate_observation_data["maturity-state"] == "organic") {
							document.getElementById("maturity-state-export").textContent = "Organic";
								equilibrium_count = equilibrium_count + 1;
						} else {
							document.getElementById("maturity-state-export").textContent = "Inorganic";
						}
						
						
						if (organic_rate_observation_data["evolution-state"] == "organic") {
							document.getElementById("evolution-state-export").textContent = "Organic";
								equilibrium_count = equilibrium_count + 1;
						} else {
							document.getElementById("evolution-state-export").textContent = "Inorganic";
						}
																																																		
			let organic_rate_state;
						
						if (equilibrium_count >= 2) {
							document.getElementById("organic-rate-equilibrium").textContent = "Organic";
							organic_rate_state = "organic";
						} else if (equilibrium_count <= 1) {
							document.getElementById("organic-rate-equilibrium").textContent = "Inorganic";
							organic_rate_state = "inorganic";
						}

			let organic_performance_observation = JSON.parse(localStorage.getItem("organic_performance_observation")) || {};
			organic_performance_observation["organic-rate-state"] = organic_rate_state;
			localStorage.setItem("organic_performance_observation", JSON.stringify(organic_performance_observation));
						
			document.title = observation_categorisation_data.observation_date + "_" + observation_categorisation_data.collection_name + "-collection-" + observation_categorisation_data.collection_count + "-organic_performance-observation-observation-4-organic_rate";
		</script>
	</body>																																									
</html>